著者：Jaynam 翻訳者：AI 更新日：2024年8月27日

## 2. コンピュータの仕組みを覗いてみよう

コンピュータの世界へようこそ！プログラミングに取り組む前に、コンピュータの基本的な仕組みについて学ぶ必要があります。まずはコンピュータがどのように情報を処理するかを探ってみましょう。

### 2.1 コンピュータが情報を処理する方法

**(1) バイナリーコードの紹介**

あなたのコンピュータ、タブレット、スマートフォンがどうやって多くのことを実現しているか、不思議に思ったことはありませんか？それはすべて、情報を処理する方法に関係しています。まずは「バイナリーコード」と呼ばれるものから始めてみましょう。情報を日常生活でどのように表現しているかを考えてみましょう。

**日常生活での情報の表現方法**

日常生活では、情報を表現し共有するためにさまざまな方法を使っています。たとえば：

- 言語：書かれたものでも話されたものでも、記号に基づいた言葉や音を使って情報を伝えます。各文字は特定の形と意味を持ち、私たちが言う言葉や文は特定の意味を伝えます。
- グラフィック記号や画像：交通標識や絵、写真なども多くの情報を含んでいます。
- 音：さまざまな音も意味を伝えるために使われます。ドアベルの音は訪問者が来たことを知らせ、サイレンの音は警告を伝えます。

同じように、コンピュータも情報を理解し処理するための特別なシステムが必要です。このシステムが「バイナリーコード」です。バイナリーコードは、0と1の2つの記号だけで構成される普遍的な言語のようなもので、数字や文字、画像や音など、さまざまなデータを表現します。「バイナリー」は「2進数システム」を指し、0と1の2つの記号のみを使用します。「コード」は、情報を理解しやすくするために特定の記号やルールを使うことを含みます。

**2進法について**

私たちの日常生活では、通常0から9の10種類の数字を使います。簡単な計算をしてみましょう。0に1を加えると、結果は1になります。さらに1を加えると、2になります。もし0に10回1を加えたら、全ての10種類の数字を使うことになります。しかし、もし0に10回1を加えた場合、結果は10になります。「10」をよく見てみると、「1」と「0」で構成されており、「1」は「0」の左側にあります。「10」の2つの数字を足すと、1プラス0は1になります。しかし、この単純な計算では、「10」がどのように10という数字を表すのかを説明することはできません。

普段の生活では、特に指定がない限り、私たちが使用する数字は「10進法」に基づいています。「10進法」という言葉はラテン語の「decem」、すなわち「10」に由来しています。「10進法」は10のべき乗に基づいた数体系を指します。10進法では、各桁の値はその右の桁の10倍になります。数字の各桁は異なる桁値を表し、10進法ではこれが10のべき乗です。

例えば、数字345を考えてみましょう：

- 桁の5は「単位」の位置にあります（10^0、10の0乗）、5を表します。
- 桁の4は「十の位」にあります（10^1、10の1乗）、4 × 10 = 40を表します。
- 桁の3は「百の位」にあります（10^2、10の2乗）、3 × 100 = 300を表します。

これらの値をすべて足し合わせると（300 + 40 + 5）、合計値は345になります。

次に、2進法について見てみましょう。10進法が10種類の数字を使用するのに対して、2進法は0と1の2種類の数字しか使いません。2進法の各桁は、10のべき乗ではなく、2のべき乗を表します。

例えば、2進法の数字101の場合：

- 一番右の桁（1）は「1の位」（2^0、2の0乗）にあり、1を表します。
- 真ん中の桁（0）は「2の位」（2^1、2の1乗）にあり、0 × 2 = 0を表します。
- 一番左の桁（1）は「4の位」（2^2、2の2乗）にあり、1 × 4 = 4を表します。

2進法の数字101の10進法での値を求めるには、これらの値をすべて足します：4（「4の位」から）+ 0（「2の位」から）+ 1（「1の位」から）= 5です。

したがって、2進法の数字101は10進法の数字5に相当します。

**なぜコンピュータは二進法を使用するのか**

十進法は最も一般的に使われる数字システムで、日常的な計算や算術に使われています。人間は十本の指を持っているため、十進法での数え方は直感的で簡単です。この自然な数え方が十進法の発展に影響を与えた可能性があります。しかし、十進法は私たち人間には簡単で便利ですが、コンピュータには最適ではありません。代わりに、二進法が電子機器にはより適しています。その理由はコンピュータの「構造」にあります。

コンピュータは電気回路を使用しており、これらの回路は「オン」または「オフ」の二つの状態を持ちます。これらの二つの状態は、二進法の数字0と1で自然に表現されます。二進法はコンピュータにとって理想的であり、電気信号の「オン/オフ」と完全に一致しています。二進法を使用することで、コンピュータは効率的にデータを処理し、保存することができます。

コンピュータの主要な部品であるCPU（中央処理装置）は、トランジスタを基本単位として依存しています。トランジスタは非常に小さくシンプルな回路素子で、電子的なオン/オフスイッチとして動作し、弱い電気信号を増幅することができます。現代のCPUには何十億ものトランジスタが含まれており、これらはデータの処理と保存のためのオン/オフスイッチとして機能します。メモリ（RAM）やGPU、SSD（ソリッドステートドライブ）も同様にトランジスタを使用しています。

コンピュータ内では、ほぼすべてのトランジスタがオン/オフスイッチとして機能しており、これにより二つの状態（オンとオフ）で動作します。そのため、「オン」状態には1を、「オフ」状態には0を使用するのは自然でシンプルです。

**（2）二進コードがデータをどのように表すか**

二進コードがデータをどのように表すかを理解するために、まずPCが情報を処理し、保存する方法を考えてみましょう。プログラムが実行されると、その指示の一連の命令がRAMにロードされます。他のプログラムからの命令とともに、これらの命令は実行のためにキューに並べられます。CPUはこのキューから命令を1つずつ継続的に取得します。CPUが命令を取得するたびに、RAMから読み取り、場合によってはハードドライブからの読み取りや書き込みが伴います。現代のCPUは最大64ビットのデータを一度に処理することができ、古いCPUは最大32ビットのデータを処理することがあります。

ここでいくつかの疑問が生じます。コンピュータは一度にどのくらいのビットのデータを読み書きすべきか？基本単位として何ビットを使用すべきか？もしCPUが1ビットずつ読み書きしていたら、高頻度の操作が必要になり、非常に非効率的で時間がかかるでしょう。そのため、64ビットCPUは通常64ビットのデータを一度に読み書きし、32ビットCPUは32ビットを処理してパフォーマンスと効率のバランスを取ります。RAMは一般的に8ビットを基本単位として使用しています。

RAMで8ビット単位を選択する理由は、歴史的、技術的、標準化の要因によります。初期のコンピュータではさまざまなデータ単位サイズが使用されていましたが、技術の進歩と共に8ビット単位が一般的になりました。このサイズは、特に文字やデータを表現するために効率と能力のバランスを取りました。

**ASCIIコード**

ASCII（アメリカ標準コード）は、コンピュータやその他のテキストベースのデバイスでテキストを表現するための文字エンコーディング標準です。これは多くの現代のエンコーディング方式の基盤となっています。ASCIIは7ビットの2進数を使用し、128のユニークな文字を表現することができます。コードは0から127までの範囲です。

標準ASCII文字には次のものが含まれます：

- 制御文字（0〜31）：

  これらはテキスト処理を制御する非表示文字です。例としては：

  - `0`（NUL）：ヌル文字
  - `9`（TAB）：水平タブ
  - `10`（LF）：改行（ラインフィード）
  - `13`（CR）：キャリッジリターン

- 印刷可能文字（32〜127）：

  これらはアルファベット、数字、句読点、記号などの目に見える文字です。例としては：

  - `32`（SPACE）：スペース文字
  - `65`（A）：大文字のA
  - `97`（a）：小文字のa
  - `48`（0）：数字の0
  - `33`（!）：感嘆符

ASCIIコードは7ビットを使用して128文字をエンコードしますが、現代のコンピュータでは基本データ単位として8ビットが使用されます。この8ビット単位、つまりバイトにより256文字をエンコードすることができ、通常は英語やその他の西洋言語には十分です。より複雑な言語には追加のバイトが使用され、効率的なメモリとストレージの使用が確保されます。ASCII自体は7ビットのみで必要ですが、コンピュータでは8ビット表現が一般的で、追加のビットは通常0に設定されます。例えば、大文字の「A」のASCIIコードは65（十進数）または01000001（二進数）であり、追加のビットはゼロです。

**コンピュータでの数学演算子の記号**

標準的なキーボードには、例えば掛け算記号（×）などの数学記号がないことに気づくかもしれません。その代わり、コンピュータでは簡潔さのために別の記号が使われることがよくあります。以下は一般的な例です：

- 掛け算: `*`
- 割り算: `/`
- 剰余（割り算の余り）: `%`
- 指数演算: `**`（Pythonなどのプログラミング言語でよく使用されます）、または `^`（計算機で一般的に使われることがあります）。

これらの記号は、様々なプログラミング環境や計算機で算術演算を行うために使用されます。

**データサイズの単位**

現代のコンピュータでは、基本的なデータ単位として8ビットが使用され、これをバイト（B）と呼びます。以下はその他の一般的なデータサイズ単位とその変換です：

- ビット（b、小文字）: コンピュータでの最小データ単位で、0または1のいずれかを表します。
- バイト（B、大文字）: 基本のデータ単位で、8ビットから構成されています。

より大きな単位については、2つの異なる変換が使われます。バイナリ単位は2のべき乗に基づいており、デシマル単位は10のべき乗に基づいています。コンピュータではバイナリ単位が標準であり、デシマル単位はマーケティングでよく使用されます。バイトから始まるより大きなバイナリ単位は、最初の単位の2^10（1024）倍であり、デシマル単位は10^3（1000）倍です。

バイナリ単位：

- キロバイト（KB）: 1 KB = 1,024バイト（2^10バイト）。
- メガバイト（MB）: 1 MB = 1,024 KB = 1,048,576バイト（2^20バイト）。
- ギガバイト（GB）: 1 GB = 1,024 MB = 1,073,741,824バイト（2^30バイト）。
- テラバイト（TB）: 1 TB = 1,024 GB = 1,099,511,627,776バイト（2^40バイト）。

デシマル単位：

- キロバイト（KB）: 1 KB = 1,000バイト（10^3バイト）。
- メガバイト（MB）: 1 MB = 1,000 KB = 1,000,000バイト（10^6バイト）。
- ギガバイト（GB）: 1 GB = 1,000 MB = 1,000,000,000バイト（10^9バイト）。
- テラバイト（TB）: 1 TB = 1,000 GB = 1,000,000,000,000バイト（10^12バイト）。

バイナリ単位を明確に区別するために、IEC（国際電気標準会議）は「バイ」接頭辞を導入しました。これらの単位はバイナリ変換と同じ値を持ちますが、名前がより識別しやすくなっています。

- キビバイト（KiB）: 1 KiB = 1,024バイト（2^10バイト）。
- メビバイト（MiB）: 1 MiB = 1,024 KiB = 1,048,576バイト（2^20バイト）。
- ギビバイト（GiB）: 1 GiB = 1,024 MiB = 1,073,741,824バイト（2^30バイト）。
- テビバイト（TiB）: 1 TiB = 1,024 GiB = 1,099,511,627,776バイト（2^40バイト）。

デシマル変換は、マーケティングでよく使用されるため、同じストレージ容量でより大きな数値を生成します。例えば、500 GB（デシマル）と表示されたハードドライブは実際には500,000,000,000バイトで、約465 GiB（バイナリ）に相当します。

**異なるデータ型のバイナリ表現**

すべてのデータは、その型にかかわらず、最終的にはバイナリ形式で表現されます。データはコンピュータ内で0と1のシーケンスとして処理され、保存されます。テキスト、画像、音声などのデータを保存するためには、それらを「エンコード」してバイナリコードに変換する必要があります。そして、人間にとって理解しやすい形式でデータを使用する必要がある場合、ソフトウェアがバイナリコードを解釈し、テキスト、画像、その他の形式に変換します。これを「デコード」と呼びます。

以下に、異なるデータ型のエンコーディングの例を示します：

- **テキスト**: 文字は、ASCIIやUnicode（ユニバーサルコード）などのエンコーディング標準を使用して表現されます。各文字には一意のバイナリコードが割り当てられます。例えば、'A'のASCIIコードはバイナリで01000001です。
- **数値**: 数値は、整数（例えば `-3` や `0` のような小数点を含まない数値）や浮動小数点数（例えば `3.14` や `-0.01` のような小数点を含む数値）など、さまざまなバイナリ形式で表現されます。例えば、整数5は8ビットのバイナリ表現で00000101です。
- **音声**: 音声データは、通常、一連のサンプルとして表現されます。これらのサンプルは定期的にキャプチャされ、バイナリでエンコードされます。例えば、16ビットの音声サンプルは16ビットのバイナリ数として表されるかもしれません。
- **画像**: 画像はピクセルで構成され、それぞれに色の値があります。グレースケール画像では、各ピクセルは8ビットのバイナリ数でその輝度を示すことができます。カラー画像では、各ピクセルは通常、赤、緑、青の色成分に対応するバイナリ数の組み合わせで表されます。
- **動画**: 動画は画像（フレーム）の連続であり、通常は音声も含まれます。各フレームはバイナリで表された画像であり、フレームが迅速に表示されることで動きの錯覚を作り出します。
- **ファイルとフォーマット**: JPEG（画像用）、MP3（音声用）、MP4（動画用）など、異なるファイルフォーマットは、データのエンコーディング方法を定義しています。これらのフォーマットは、データを効率的に構造化し圧縮するためにバイナリコードを使用します。

**データ圧縮**

大量の玩具を小さな箱に詰める必要があるとしましょう。データ圧縮は、全ての玩具が箱に収まるように配置して縮小する方法を見つけることに似ています。コンピュータでは、ファイルを小さくして、保存や送信を迅速に行うための方法です。

例えば、Run-Length Encoding (RLE) アルゴリズムの簡単な例を見てみましょう。「AAAAAAADDDDCCVSSSSSSSSS」という英字の列があるとします。これは23文字で23バイトのスペースを取ります。各文字が何回繰り返されるかをカウントして、その文字とカウントを置き換えると、「7A4D2C1V9S」になります。この新しい列は、5つのカウントと5つの文字で構成されています。カウントを1バイトで表し、文字はASCIIコードを使用するため、合計で10バイトになります。データを圧縮する際は、カウントと文字を読み取って、カウントに応じて文字を繰り返します。これにより、データサイズが削減され、より少ないスペースで済むのです。

データの種類によって、異なる圧縮アルゴリズムを選ぶことが一般的です。それぞれのアルゴリズムには独自の利点と制限があります。